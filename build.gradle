plugins {
    id 'java'
    id 'com.vaadin'
    id 'io.freefair.lombok'
    id 'io.spring.dependency-management'
}

repositories {
    mavenLocal()
    mavenCentral()
}

apply from: "$rootDir/tasks/revisions.gradle"
dependencyManagement {
    imports {
        mavenBom "io.sunshower.aire:bom-imported:$version"
        mavenBom "io.sunshower.aire:bom-exported:$version"
    }
}


sourceSets {
    main {
        java {
            srcDir "${buildDir}/generated/sources/main/java"
        }
    }
    development {
        java {
            compileClasspath += main.output
            runtimeClasspath += main.output
        }
    }

}



build.dependsOn populateVersions
build.mustRunAfter populateVersions

configurations {
    developmentImplementation {
        extendsFrom implementation
    }
}

dependencies {
    [
            'com.vaadin:flow-server',
            'com.vaadin:vaadin-icons-flow',
            'com.vaadin:vaadin-button-flow',
            'com.vaadin:vaadin-ordered-layout-flow',
            'io.sunshower.aire:aire-common',
            'com.vaadin:flow-html-components',
            'io.sunshower.arcus:arcus-lang',
            'io.sunshower.arcus:arcus-reflect'
    ].each {
        implementation it
        developmentImplementation it
    }

    developmentImplementation 'com.vaadin:vaadin-spring-boot-starter'


}
